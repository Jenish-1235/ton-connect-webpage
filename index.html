<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Platform</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Placeholder for Image -->
        <div class="image-placeholder">
            <img src="placeholder.png" alt="Placeholder Image">
        </div>

        <!-- Main Message -->
        <div class="main-message">
            <h2>Ready to play?<br>Connect your wallet and dive in!</h2>
        </div>

        <!-- Connect Wallet Button -->
        <div class="connect-wallet">
            <button id="connect-wallet-btn" onclick="connectWallet()">Connect Wallet</button>
        </div>
    </div>

    <script src="https://unpkg.com/@tonconnect/sdk@latest/dist/tonconnect-sdk.min.js"></script>
    <script>
        // Initialize TonConnect SDK
      const connector = new TonConnectSDK.TonConnect({
  manifestUrl: "https://raw.githubusercontent.com/nuex001/Tonkeepermanifest/main/tonconnect-manifest.json",
});

const connectWallet = () => {
  const walletConnectionSource = {
    universalLink: "https://app.tonkeeper.com/ton-connect",
    bridgeUrl: "https://bridge.tonapi.io/bridge",
  };

  const universalLink = connector.connect(walletConnectionSource);
  window.open(universalLink, "_blank");
};

connector.onStatusChange((status) => {
  console.log("Connection status changed:", status);

  if (status && status.account) {
    const rawAddress = status.account.address;
    console.log("Raw Wallet Address:", rawAddress);

    // Sending the wallet address to Android via JavaScript Interface
    if (window.AndroidInterface) {
      window.AndroidInterface.saveWalletAddress(rawAddress);
    } else {
      console.error("AndroidInterface not found");
    }
  }
});
    </script>
</body>
</html>
